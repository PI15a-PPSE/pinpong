<html xmlns:ng="http://docbook.org/docbook-ng"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1099;&#1081; &#1055;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090; "&#1048;&#1075;&#1088;&#1072; PinPong"</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h1 class="title"><a name="d5e1"></a>&#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1099;&#1081; &#1055;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090; "&#1048;&#1075;&#1088;&#1072; PinPong"</h1></div><div><div class="author"><h3 class="author"><span class="firstname">&#1042;&#1072;&#1076;&#1080;&#1084;</span> <span class="surname">&#1042;&#1086;&#1083;&#1082;&#1086;&#1074;&#1089;&#1082;&#1080;&#1081;</span></h3><div class="affiliation"><span class="orgname">&#1044;&#1086;&#1085;&#1053;&#1058;&#1059;<br></span></div></div></div><div><p class="pubdate">03-12-2018</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#d5e11">&#1054;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090;&#1072;</a></span></dt><dt><span class="section"><a href="#d5e15">&#1055;&#1077;&#1088;&#1074;&#1099;&#1081; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e11"></a>&#1054;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090;&#1072;</h2></div></div></div><p>&#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1099;&#1081; &#1087;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090; <span class="bold"><strong>PinPong</strong></span>&#1073;&#1099;&#1083;
            &#1088;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1085; &#1076;&#1083;&#1103; &#1088;&#1072;&#1079;&#1074;&#1083;&#1077;&#1095;&#1077;&#1085;&#1080;&#1103;. &#1048;&#1075;&#1088;&#1072; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1074; &#1089;&#1077;&#1073;&#1077; &#1064;&#1072;&#1088; &#1080; &#1076;&#1074;&#1077; &#1088;&#1072;&#1082;&#1077;&#1090;&#1082;&#1080;
            &#1076;&#1083;&#1103; &#1076;&#1074;&#1091;&#1093; &#1080;&#1075;&#1088;&#1086;&#1082;&#1086;&#1074;. &#1056;&#1072;&#1079;&#1074;&#1080;&#1074;&#1072;&#1077;&#1090; &#1088;&#1077;&#1072;&#1082;&#1094;&#1080;&#1102; &#1080; &#1072;&#1085;&#1072;&#1083;&#1080;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1084;&#1099;&#1096;&#1083;&#1077;&#1085;&#1080;&#1077;</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e15"></a>&#1055;&#1077;&#1088;&#1074;&#1099;&#1081; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;</h2></div></div></div><p>&#1055;&#1088;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1077; &#1080;&#1075;&#1088;&#1099; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1102; &#1087;&#1088;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1074;&#1083;&#1077;&#1085; 2 &#1088;&#1072;&#1082;&#1077;&#1090;&#1082;&#1080;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090;
            &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1103;&#1090;&#1100; &#1096;&#1072;&#1088;&#1080;&#1082;&#1086;&#1084; &#1086;&#1073;&#1080;&#1074;&#1072;&#1103; &#1077;&#1075;&#1086; &#1086;&#1090; &#1089;&#1077;&#1073;&#1103;, &#1076;&#1074;&#1080;&#1078;&#1077;&#1085;&#1080;&#1103; &#1096;&#1072;&#1088;&#1080;&#1082;&#1072; &#1086;&#1073;&#1088;&#1072;&#1073;&#1072;&#1090;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1081;
            &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1077;&#1081;:</p><pre class="programlisting">    
            physic: function () {
				//&#1044;&#1083;&#1103; &#1082;&#1088;&#1072;&#1090;&#1082;&#1086;&#1089;&#1090;&#1080; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080;
				var ball = game.objects.ball,
					b1 = game.objects.bracket1,
					b2 = game.objects.bracket2;
				
				//&#1055;&#1077;&#1088;&#1077;&#1076;&#1074;&#1080;&#1075;&#1072;&#1077;&#1084; &#1096;&#1072;&#1088;
				game.objects.ball.move();
				//&#1054;&#1090;&#1089;&#1082;&#1086;&#1082; &#1057;&#1087;&#1088;&#1072;&#1074;&#1072;
				if (ball.x + ball.radius/2 &gt; game.params.width) {
					game.objects.ball.xspeed = -game.objects.ball.xspeed;
				}
				//&#1054;&#1090;&#1089;&#1082;&#1086;&#1082; &#1096;&#1072;&#1088;&#1080;&#1082;&#1072; &#1086;&#1090; 2 &#1073;&#1083;&#1086;&#1082;&#1072;
				if(ball.x &gt;= this.params.width-50) {
					ball.xspeed = -ball.xspeed;
					//&#1059;&#1089;&#1082;&#1086;&#1088;&#1103;&#1077;&#1084; &#1096;&#1072;&#1088;&#1080;&#1082;
					ball.xspeed = ball.xspeed * ball.bounce;
				}

				//&#1042; &#1089;&#1086;&#1089;&#1090;&#1086;&#1103;&#1085;&#1080;&#1080; &#1086;&#1078;&#1080;&#1076;&#1072;&#1085;&#1080;&#1103; &#1087;&#1091;&#1089;&#1082;&#1072; &#1096;&#1072;&#1088;&#1080;&#1082;&#1072; &#1086;&#1090; &#1088;&#1072;&#1082;&#1077;&#1090;&#1082;&#1080; &#1080;&#1075;&#1088;&#1086;&#1082;&#1072;, &#1074;&#1099;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1084; &#1096;&#1072;&#1088;&#1080;&#1082; &#1088;&#1103;&#1076;&#1086;&#1084; &#1089; &#1088;&#1072;&#1082;&#1077;&#1090;&#1082;&#1086;&#1081; &#1079;&#1072;&#1073;&#1080;&#1074;&#1096;&#1077;&#1075;&#1086; &#1080;&#1075;&#1088;&#1086;&#1082;&#1072;.
				if(this.params.state === 'playerwait') {
					ball.xspeed = 0;
					ball.yspeed = 0;
					if(this.params.lastGoalPlayer === 'player1') {
						ball.x 	= this.params.lastGoalBracket.x + this.params.lastGoalBracket.w + ball.radius + 1;
						ball.y 	= this.params.lastGoalBracket.y + this.params.lastGoalBracket.h/2;
					}
					if(this.params.lastGoalPlayer === 'player2') {
						ball.x 	= this.params.lastGoalBracket.x - ball.radius - 1;
						ball.y 	= this.params.lastGoalBracket.y + this.params.lastGoalBracket.h/2;
					}
				}
				if(b1.y+b1.h &gt;= this.params.height) b1.y = this.params.height-b1.h;
				if(b2.y+b2.h &gt;= this.params.height) b2.y = this.params.height-b2.h;
            }
    </pre><p>&#1053;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1083;&#1072;&#1074;&#1080;&#1096; &#1086;&#1073;&#1088;&#1072;&#1073;&#1072;&#1090;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1085;&#1080;&#1078;&#1077;:</p><pre class="programlisting">
                keyDownEvent: function (event) {
				    var kCode = event.keyCode;
					//1-&#1074;&#1074;&#1077;&#1088;&#1093; 
					if(kCode === 49) {
						game.objects.bracket1.y = game.objects.bracket1.y + game.objects.bracket1.speed;
					} 
					//2-&#1074;&#1085;&#1080;&#1079;
					if(kCode === 50) {
						game.objects.bracket1.y = game.objects.bracket1.y - game.objects.bracket1.speed;
					} 
					//9-&#1074;&#1074;&#1077;&#1088;&#1093; 
					if(kCode === 57) {
						game.objects.bracket2.y = game.objects.bracket2.y + game.objects.bracket2.speed;
					} 
					//0-&#1074;&#1085;&#1080;&#1079;
					if(kCode === 48) {
						game.objects.bracket2.y = game.objects.bracket2.y - game.objects.bracket2.speed;
					} 
					//E - &#1088;&#1077;&#1089;&#1090;&#1072;&#1088;&#1090; &#1096;&#1072;&#1088;&#1080;&#1082;&#1072;
					if(kCode === 69) {
						this.restartBall();
					}
					//R - &#1088;&#1077;&#1089;&#1090;&#1072;&#1088;&#1090; &#1080;&#1075;&#1088;&#1099;
					if(kCode === 82) {
						this.restartGame();
					}
					//&#1055;&#1088;&#1086;&#1073;&#1077;&#1083; - &#1087;&#1091;&#1089;&#1082; &#1096;&#1072;&#1088;&#1080;&#1082;&#1072;
					if(kCode === 32) {
						this.kickBall();
					}
                }
    </pre><p>&#1058;&#1072;&#1082; &#1078;&#1077; &#1074; &#1080;&#1075;&#1088;&#1077; &#1087;&#1088;&#1080;&#1089;&#1091;&#1090;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1083;&#1086;&#1075;&#1080;&#1082;&#1072; :</p><pre class="programlisting">
            logic: function () {
				//&#1044;&#1083;&#1103; &#1082;&#1088;&#1072;&#1090;&#1082;&#1086;&#1089;&#1090;&#1080; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080;
				var ball = game.objects.ball;

				//&#1045;&#1089;&#1083;&#1080; &#1089;&#1077;&#1081;&#1095;&#1072;&#1089; &#1080;&#1076;&#1077;&#1090; &#1080;&#1075;&#1088;&#1072;
				if(this.params.state == 'game') {

					//&#1064;&#1072;&#1088;&#1080;&#1082; &#1086;&#1082;&#1072;&#1079;&#1072;&#1083;&#1089;&#1103; &#1079;&#1072; &#1074;&#1099;&#1090;&#1086;&#1088;&#1099;&#1084; &#1080;&#1075;&#1088;&#1086;&#1082;&#1086;&#1084;
					if (ball.x + ball.radius/2 &gt; game.params.width) {
						//&#1047;&#1072;&#1089;&#1095;&#1090;&#1080;&#1090;&#1072;&#1077;&#1084; &#1075;&#1086;&#1083;
						this.objects.player1.rate++;
						//&#1057;&#1084;&#1077;&#1085;&#1080;&#1084; &#1089;&#1086;&#1089;&#1090;&#1086;&#1103;&#1085;&#1080;&#1077; &#1080;&#1075;&#1088;&#1099;
						this.params.state = 'playerwait';
						//&#1057;&#1086;&#1093;&#1072;&#1088;&#1085;&#1080;&#1084; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1102; &#1086; &#1079;&#1072;&#1073;&#1080;&#1074;&#1096;&#1077;&#1084;
						this.params.lastGoalBracket = this.objects.bracket1;
						this.params.lastGoalPlayer = 'player1';
					}

					//&#1055;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1084; &#1085;&#1072;&#1083;&#1080;&#1095;&#1080;&#1077; &#1087;&#1086;&#1073;&#1077;&#1076;&#1080;&#1090;&#1077;&#1083;&#1103;
					//&#1045;&#1089;&#1083;&#1080; &#1082;&#1090;&#1086;-&#1090;&#1086; &#1080;&#1079; &#1080;&#1075;&#1088;&#1086;&#1082;&#1086;&#1074; &#1085;&#1072;&#1073;&#1088;&#1072;&#1083; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086;&#1077; &#1082;&#1086;&#1083;&#1080;&#1095;&#1077;&#1089;&#1090;&#1074;&#1086; &#1086;&#1095;&#1082;&#1086;&#1074;
					//&#1054;&#1085; &#1074;&#1099;&#1080;&#1075;&#1088;&#1072;&#1083;
					if(this.objects.player1.rate === this.params.maxRate) {
						alert('1 &#1080;&#1075;&#1088;&#1086;&#1082; &#1074;&#1099;&#1080;&#1075;&#1088;&#1072;&#1083;');
						this.gameRestart();
					}

					if(this.objects.player2.rate === this.params.maxRate) {
						alert('2 &#1080;&#1075;&#1088;&#1086;&#1082; &#1074;&#1099;&#1080;&#1075;&#1088;&#1072;&#1083;');
						this.gameRestart();
					}
				}
			}
    </pre><p>&#1058;&#1072;&#1082;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;, &#1073;&#1099;&#1083;&#1086; &#1088;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1085;&#1086; 3 &#1074;&#1072;&#1088;&#1080;&#1072;&#1085;&#1090;&#1072; &#1088;&#1072;&#1079;&#1074;&#1080;&#1090;&#1080;&#1103; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1081;, &#1089;
            &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1085;&#1085;&#1099;&#1084; &#1082;&#1086;&#1076;&#1086;&#1084;.</p></div></div></body></html>